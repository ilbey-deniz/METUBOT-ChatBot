(function(){"use strict";var t={1579:function(t,e,s){var a=s(144),i=s(998),n=s(5716),r=s(4324),o=s(1625),l=s(3059),u=s(3687),c=s(7953),d=function(){var t=this,e=t._self._c;return e(i.Z,{style:{background:t.$vuetify.theme.themes[t.theme].background}},[e(n.Z,{attrs:{app:"",elevation:"4",height:t.appBarHeight}},[e("div",{staticClass:"d-flex align-center"},[e("router-link",{attrs:{to:"/"}},[e(o.Z,{staticClass:"mr-2",attrs:{alt:"METUBOT Logo",contain:"",src:s(7309),transition:"scale-transition",width:"166"}})],1)],1),"admin"===t.$route.name?e(c.qW,{staticClass:"text-h5"},[t._v("Yönetim")]):t._e(),e(u.Z),e("router-link",{staticClass:"mr-2 grey--text text-decoration-none",attrs:{to:"/yonetim"}},[t._v("Yönetim")]),e("router-link",{staticClass:"mr-2 grey--text text-decoration-none",attrs:{to:"/"}},[t._v("Metubot")]),t.$vuetify.theme.dark?e(r.Z,{on:{click:function(e){t.$vuetify.theme.dark=!1}}},[t._v(" mdi-weather-sunny ")]):e(r.Z,{on:{click:function(e){t.$vuetify.theme.dark=!0}}},[t._v(" mdi-weather-night ")])],1),e(l.Z,[e("router-view",{attrs:{"app-bar-height":t.appBarHeight}})],1)],1)},m=[],h={name:"App",watch:{$route:{immediate:!0,handler(t,e){document.title=t.meta.title||"METUBOT"}}},data:()=>({appBarHeight:64}),computed:{theme(){return this.$vuetify.theme.dark?"dark":"light"}}},p=h,f=s(3736),g=(0,f.Z)(p,d,m,!1,null,null,null),_=g.exports,v=s(8345),y=function(){var t=this,e=t._self._c;return e("metubot-chat",{style:t.fillScreen})},b=[],k=s(9582),x=s(4886),w=s(4127),q=s(266),C=s(2118),Z=s(9223),S=s(8224),B=s(5808),z=s(4525),M=s(5200),T=s(9608),O=s(9422),Q=s(1713),F=s(7808),U=function(){var t=this,e=t._self._c;return e(C.Z,{staticClass:"pa-0 fill-height"},[e(Q.Z,{staticClass:"no-gutters elevation-4 fill-height"},[e(q.Z,{staticClass:"flex-grow-1 flex-shrink-0",attrs:{cols:"auto"}},[e(O.Z,{staticClass:"overflow-y-hidden fill-height"},[e(k.Z,{staticClass:"d-flex flex-column fill-height",attrs:{flat:""}},[e(x.ZB,{class:"flex-grow-1 overflow-y-auto "+t.scrollbarTheme},[t._l(t.messages,(function(s,a){return[e("div",{class:{"d-flex flex-row-reverse":s.isUser}},[e(T.Z,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(S.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:i}){return[e(w.Z,t._g({staticClass:"pa-4 mb-2",staticStyle:{height:"auto","white-space":"pre-wrap"},attrs:{color:s.isUser?"primary":"red",dark:""}},a),[t._v(" "+t._s(s.content)+" "),e("sub",{staticClass:"ml-2",staticStyle:{"font-size":"0.5rem"}},[t._v(" "+t._s(s.created_at)+" ")]),i?e(r.Z,{attrs:{small:""}},[t._v("mdi-chevron-down")]):t._e()],1)]}}],null,!0)})]}}],null,!0)},[e(B.Z,[e(z.Z,[e(M.V9,{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.reportQuestion(a)}}},[e("span",{staticClass:"material-icons"},[t._v("bug_report")]),e("span",{staticClass:"text"},[t._v("Report Question")])])],1)],1)],1)],1)]})),e("transition",{attrs:{name:"fade"}},[t.waitingForAnswer?e(w.Z,{staticClass:"pa-4 mb-2 d-flex justify-center",staticStyle:{height:"auto","white-space":"normal",width:"70px"},attrs:{color:"red",dark:""}},[e("div",{staticClass:"dot-typing"})]):t._e()],1)],2),e(Z.Z),e(x.ZB,{staticClass:"flex-shrink-1"},[e(F.Z,{attrs:{label:"Mesaj",type:"text","no-details":"",outlined:"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage.apply(null,arguments)}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[e(r.Z,{on:{click:t.sendMessage,touchend:function(e){return e.preventDefault(),t.sendMessage.apply(null,arguments)}}},[t._v(" mdi-send ")])]},proxy:!0}]),model:{value:t.messageForm.content,callback:function(e){t.$set(t.messageForm,"content",e)},expression:"messageForm.content"}})],1)],1)],1)],1)],1)],1)},A=[],$=(s(7658),s(594)),j=s(9367),I={name:"MetubotChat",props:{},data(){return{messages:[],messageForm:{content:"",isUser:!0,created_at:"11:11am"},qa_pair:{question:"",answer:"",created_at:"11:11am"},waitingForAnswer:!0,socketIoSocket:null,reported_question_index:-1}},mounted(){this.socketIoSocket=(0,j.io)(),this.socketIoSocket.on("chat answer",(t=>{this.waitingForAnswer=!1,""===t&&(t="Sualinize maalesef mütenasip bir yanıt bulamamaktayım. Başka sorunuz varsa lütfen sakınmayınız."),this.messages.push({content:t,isUser:!1,created_at:this.getClock()})}))},methods:{sendMessageToServer(){$.Z.post("/",{question:this.chatMessage})},getClock(){let t=new Date,e=t.getHours(),s=t.getMinutes();return`${e}:${s}`},sendMessage(){""===this.messageForm.content||this.waitingForAnswer||(this.messageForm.created_at=this.getClock(),this.messages.push(this.messageForm),this.socketIoSocket.emit("chat question",this.messageForm.content),this.messageForm={content:"",isUser:!0,created_at:null},this.waitingForAnswer=!0)},reportQuestion(t){this.reported_question_index=t,t>1&&!this.messages[t].isUser&&(this.qa_pair.created_at=this.getClock(),this.qa_pair.answer=this.messages[this.reported_question_index].content,this.messages[t-1].isUser&&(this.qa_pair.question=this.messages[this.reported_question_index-1].content)),t>1&&this.messages[t].isUser&&(this.qa_pair.created_at=this.getClock(),this.qa_pair.question=this.messages[this.reported_question_index].content,t+1<this.messages.length&&!this.messages[t+1].isUser&&(this.qa_pair.answer=this.messages[this.reported_question_index+1].content)),console.log(this.qa_pair.question),console.log(this.qa_pair.answer),this.socketIoSocket.emit("report question",this.qa_pair),this.qa_pair={question:"",answer:"",created_at:null}}},computed:{scrollbarTheme(){return this.$vuetify.theme.dark?"dark-scrollbar":"light-scrollbar"}}},H=I,R=(0,f.Z)(H,U,A,!1,null,"3ec4bdf6",null),E=R.exports,P={name:"Home",props:{appBarHeight:Number},components:{MetubotChat:E},data(){return{fillScreen:{position:"fixed",top:this.appBarHeight+"px",left:"50%",transform:"translate(-50%)",width:"100%",height:`calc(100% - ${this.appBarHeight}px)`,overflow:"auto"}}}},L=P,V=(0,f.Z)(L,y,b,!1,null,"4c13c650",null),D=V.exports,Y=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"app"},[e(s.Sidebar),e("router-view")],1)},N=[],W=s(7423),G=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e(W.Z,{attrs:{color:"bg2"}},[e("aside",{class:""+(s.is_expanded?"is-expanded":"")},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:s.logoURL,alt:"Vue"}})]),e("div",{staticClass:"menu-toggle-wrap"},[e("button",{staticClass:"menu-toggle",on:{click:s.ToggleMenu}},[e("span",{staticClass:"material-icons"},[t._v("keyboard_double_arrow_right")])])]),e("h3",[t._v("Menu")]),e("div",{staticClass:"menu"},[e("router-link",{staticClass:"button",attrs:{to:"/"}},[e("span",{staticClass:"material-icons"},[t._v("home")]),e("span",{staticClass:"text"},[t._v("Home")])]),e("router-link",{staticClass:"button",attrs:{to:"/yonetim/dashboard"}},[e("span",{staticClass:"material-icons"},[t._v("dashboard")]),e("span",{staticClass:"text"},[t._v("Dashboard")])]),e("router-link",{staticClass:"button",attrs:{to:"/yonetim/tables"}},[e("span",{staticClass:"material-icons"},[t._v("table_chart")]),e("span",{staticClass:"text"},[t._v("Tables")])]),e("router-link",{staticClass:"button",attrs:{to:"/yonetim/charts"}},[e("span",{staticClass:"material-icons"},[t._v("pie_chart")]),e("span",{staticClass:"text"},[t._v("Charts")])]),e("router-link",{staticClass:"button",attrs:{to:"/yonetim/addquestion"}},[e("span",{staticClass:"material-icons"},[t._v("note_add")]),e("span",{staticClass:"text"},[t._v("Add Question")])])],1),e("div",{staticClass:"flex"}),e("div",{staticClass:"menu"},[e("router-link",{staticClass:"button",attrs:{to:"/settings"}},[e("span",{staticClass:"material-icons"},[t._v("settings")]),e("span",{staticClass:"text"},[t._v("Settings")])])],1)])])},J=[],K=s.p+"img/metubot-logo-nameless.4fe9eedf.png",X={__name:"Sidebar",setup(t){const e=(0,a.ref)("true"===localStorage.getItem("is_expanded")),s=()=>{e.value=!e.value,localStorage.setItem("is_expanded",e.value)};return{__sfc:!0,is_expanded:e,ToggleMenu:s,logoURL:K}}},tt=X,et=(0,f.Z)(tt,G,J,!1,null,"5dfcb3bf",null),st=et.exports,at={__name:"AdminView",setup(t){return{__sfc:!0,Sidebar:st}}},it=at,nt=(0,f.Z)(it,Y,N,!1,null,null,null),rt=nt.exports,ot=s(3213),lt=function(){var t=this,e=t._self._c;return e(k.Z,{staticClass:"card"},[e(x.EB,[t._v(" Sorulan Sorular "),e(u.Z),e(F.Z,{attrs:{"append-icon":"mdi-magnify",label:"Arama"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(ot.Z,{attrs:{headers:t.headers,items:t.questions,search:t.search,"items-per-page":5,"items-per-page-text":"hl","no-results-text":"Sonuç bulunamadı.","no-data-text":"Soru bulunmamaktadır.","footer-props":{"items-per-page-text":"Sayfa başı gösterilecek soru sayısı:"}},scopedSlots:t._u([{key:"footer.page-text",fn:function(e){return[t._v(" "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" / "+t._s(e.itemsLength)+" ")]}}],null,!0)})],1)},ut=[],ct={name:"MetubotAskedQuestions",components:{AdminView:rt},data(){return{search:"",questions:[{question:"Bugün ne yiyeceğiz?",matchedQuestion:"Bugün pilav üstü odtü kavurma yiyeceğiz.",similarity:.8},{question:"Şifremi nasıl öğrenebilirim?",matchedQuestion:"Şifrenizi öğrenmek için şifre sıfırlama sayfasına gidiniz.",similarity:.6},{question:"Bugün ne yiyeceğiz?",matchedQuestion:"Bugün pilav üstü odtü kavurma yiyeceğiz.",similarity:.8},{question:"Şifremi nasıl öğrenebilirim?",matchedQuestion:"Şifrenizi öğrenmek için şifre sıfırlama sayfasına gidiniz.",similarity:.6},{question:"Bugün ne yiyeceğiz?",matchedQuestion:"Bugün pilav üstü odtü kavurma yiyeceğiz.",similarity:.8},{question:"Şifremi nasıl öğrenebilirim?",matchedQuestion:"Şifrenizi öğrenmek için şifre sıfırlama sayfasına gidiniz.",similarity:.6},{question:"Bugün ne yiyeceğiz?",matchedQuestion:"Bugün pilav üstü odtü kavurma yiyeceğiz.",similarity:.8},{question:"Şifremi nasıl öğrenebilirim?",matchedQuestion:"Şifrenizi öğrenmek için şifre sıfırlama sayfasına gidiniz.",similarity:.6}],headers:[{text:"Sorulan Soru",align:"start",sortable:!0,value:"question"},{text:"Eşleşen Soru",value:"matchedQuestion"},{text:"Benzerlik",value:"similarity"}]}}},dt=ct,mt=(0,f.Z)(dt,lt,ut,!1,null,"fbc6dec4",null),ht=mt.exports,pt=s(6190),ft=s(5125),gt=s(2648),_t=function(){var t=this,e=t._self._c;return e(ft.Z,{staticClass:"px-12 py-12",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(F.Z,{attrs:{label:"Category","prepend-icon":"category",rules:t.categoryRules,counter:30,required:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),e(gt.Z,{attrs:{label:"Question","prepend-icon":"quiz",rules:t.questionRules,counter:200,required:""},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}}),t._v(" "),e(gt.Z,{attrs:{label:"Answer","prepend-icon":"edit_note",rules:t.answerRules,counter:200,required:""},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}),e(u.Z),e(pt.Z,{staticClass:"error mx-0 mt-3",attrs:{flat:"",disabled:!t.valid},on:{click:t.submit}},[t._v("Add Q/A")])],1)},vt=[],yt={data(){return{valid:!1,category:"",question:"",answer:"",categoryRules:[t=>!!t||"category is required",t=>t.length<=30||"category must be less than 30 characters"],questionRules:[t=>!!t||"question is required"],answerRules:[t=>!!t||"answer is required"],socketIoSocket:null}},mounted(){this.socketIoSocket=(0,j.io)()},methods:{submit(){if(console.log(this.category,this.question,this.answer),""!==this.category&&""!==this.answer&&""!==this.question){let t={category:this.category,question:this.question,answer:this.answer};console.log(t),this.socketIoSocket.emit("add question",t),this.valid=!1,this.category="",this.question="",this.answer=""}}}},bt=yt,kt=(0,f.Z)(bt,_t,vt,!1,null,null,null),xt=kt.exports;a["default"].use(v.ZP);const wt=[{path:"/",name:"metubot",component:D,meta:{title:"METUBOT"}},{path:"/yonetim",name:"admin",children:[{path:"dashboard"},{path:"tables",component:ht},{path:"charts"},{path:"addquestion",component:xt}],component:rt,meta:{title:"METUBOT Yönetim"}}],qt=new v.ZP({routes:wt});var Ct=qt,Zt=s(707),St=s.n(Zt);s(8556);a["default"].config.productionTip=!1,a["default"].use(St()),new a["default"]({router:Ct,vuetify:new(St())({theme:{dark:!1,themes:{light:{background:"#f5f0f1",bg2:"#64748b"},dark:{bg2:"#2c2a2a"}}}}),render:t=>t(_)}).$mount("#app")},7309:function(t,e,s){t.exports=s.p+"img/metubot-logo.828f8f1b.png"}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,n){if(!a){var r=1/0;for(c=0;c<t.length;c++){a=t[c][0],i=t[c][1],n=t[c][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,r=a[0],o=a[1],l=a[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var c=l(s)}for(e&&e(a);u<r.length;u++)n=r[u],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(c)},a=self["webpackChunkmetubot"]=self["webpackChunkmetubot"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(1579)}));a=s.O(a)})();
//# sourceMappingURL=app.8f14158b.js.map