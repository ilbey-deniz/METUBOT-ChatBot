(function(){var t={7274:function(t,e,s){"use strict";var a=s(144),i=s(1096),n=s(9203),r=s(5057),o=s(780),l=s(3551),u=s(5234),c=s(2370),d=function(){var t=this,e=t._self._c;return e(i.Z,{style:{background:t.$vuetify.theme.themes[t.theme].background}},[e(n.Z,{attrs:{app:"",elevation:"4",height:t.appBarHeight}},[e("div",{staticClass:"d-flex align-center"},[e("router-link",{attrs:{to:"/"}},[e(o.Z,{staticClass:"mr-2",attrs:{alt:"METUBOT Logo",contain:"",src:s(7309),transition:"scale-transition",width:"166"}})],1)],1),"admin"===t.$route.name?e(c.qW,{staticClass:"text-h5"},[t._v("Yönetim")]):t._e(),e(u.Z),e("router-link",{staticClass:"mr-2 grey--text text-decoration-none",attrs:{to:"/yonetim"}},[t._v("Yönetim")]),e("router-link",{staticClass:"mr-2 grey--text text-decoration-none",attrs:{to:"/"}},[t._v("Metubot")]),t.$vuetify.theme.dark?e(r.Z,{on:{click:function(e){return t.setDarkMode(!1)}}},[t._v(" mdi-weather-sunny ")]):e(r.Z,{on:{click:function(e){return t.setDarkMode(!0)}}},[t._v(" mdi-weather-night ")])],1),e(l.Z,[e("router-view",{attrs:{"app-bar-height":t.appBarHeight}})],1)],1)},m=[],h={name:"App",watch:{$route:{immediate:!0,handler(t,e){document.title=t.meta.title||"METUBOT"}}},data:()=>({appBarHeight:64}),computed:{theme(){return this.$vuetify.theme.dark?"dark":"light"}},mounted(){this.$vuetify.theme.dark="true"===localStorage.getItem("darkMode")},methods:{setDarkMode(t){this.$vuetify.theme.dark=t,localStorage.setItem("darkMode",t?"true":"false")}}},p=h,f=s(1001),g=(0,f.Z)(p,d,m,!1,null,null,null),v=g.exports,_=s(8345),y=function(){var t=this,e=t._self._c;return e("metubot-chat",{style:t.fillScreen})},b=[],k=s(1828),x=s(3058),w=s(5223),C=s(4944),q=s(4437),S=s(6035),Z=s(4192),B=s(3296),M=s(248),T=s(1908),z=s(8760),O=s(1636),A=s(4402),Q=s(5294),$=s(5251),F=function(){var t=this,e=t._self._c;return e(S.Z,{staticClass:"pa-0 fill-height"},[e(Q.Z,{staticClass:"no-gutters elevation-4 fill-height"},[e(q.Z,{staticClass:"flex-grow-1 flex-shrink-0",attrs:{cols:"auto"}},[e(A.Z,{staticClass:"overflow-y-hidden fill-height"},[e(x.Z,{staticClass:"d-flex flex-column fill-height",attrs:{flat:""}},[e(w.ZB,{ref:"message-div",class:"flex-grow-1 overflow-y-auto "+t.scrollbarTheme,staticStyle:{height:"1px"}},[t._l(t.messages,(function(s,a){return[e("div",{class:{"d-flex flex-row-reverse":s.isUser}},[e(B.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:i}){return[e(C.Z,{staticClass:"pa-4 mb-2 message-box",staticStyle:{height:"auto","white-space":"pre-wrap",position:"relative",cursor:"auto"},attrs:{color:s.isUser?"primary":"red",dark:""}},[e("span",{directives:[{name:"linkified",rawName:"v-linkified"}],domProps:{innerHTML:t._s(t.sanitizeExceptBoldItalicCode(s.content))}}),e("sub",{staticClass:"ml-2",staticStyle:{"font-size":"0.6rem","margin-top":"auto"}},[t._v(t._s(t.addPadding(s.created_at)))]),e(O.Z,{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(k.Z,t._g(t._b({staticStyle:{position:"absolute",right:"5px",top:"5px"},attrs:{dark:"",icon:""}},"v-btn",a,!1),s),[i?e(r.Z,[t._v("mdi-chevron-down")]):t._e()],1)]}}],null,!0)},[e(M.Z,[e(T.Z,[e(z.V9,{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.reportQuestion(a)}}},[e("span",{staticClass:"material-icons"},[t._v("bug_report")]),e("span",{staticClass:"text"},[t._v("Report Question")])])],1)],1)],1)],1)]}}],null,!0)})],1)]})),e("transition",{attrs:{name:"fade"}},[t.waitingForAnswer?e(C.Z,{staticClass:"pa-4 mb-2 d-flex justify-center",staticStyle:{height:"auto","white-space":"normal",width:"70px"},attrs:{color:"red",dark:""}},[e("div",{staticClass:"dot-typing"})]):t._e()],1)],2),e(Z.Z),e(w.ZB,{staticClass:"flex-shrink-1"},[e($.Z,{attrs:{label:"Bir mesaj yazın",type:"text","no-details":"",outlined:"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage.apply(null,arguments)}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[e(r.Z,{attrs:{color:"blue"},on:{click:t.sendMessage,touchend:function(e){return e.preventDefault(),t.sendMessage.apply(null,arguments)}}},[t._v(" mdi-send ")])]},proxy:!0}]),model:{value:t.messageForm.content,callback:function(e){t.$set(t.messageForm,"content",e)},expression:"messageForm.content"}})],1)],1)],1)],1)],1)],1)},I=[],U=(s(7658),s(594)),E=s(9367),H={name:"MetubotChat",props:{},data(){return{messages:[],messageForm:{content:"",isUser:!0,created_at:"11:11am"},qa_pair:{question:"",answer:"",created_at:"11:11am"},waitingForAnswer:!0,socketIoSocket:null,reported_question_index:-1}},mounted(){this.socketIoSocket=(0,E.io)(),this.socketIoSocket.on("chat answer",(t=>{this.waitingForAnswer=!1,""===t&&(t="Sualinize maalesef mütenasip bir yanıt bulamamaktayım. Başka sorunuz varsa lütfen sakınmayınız."),this.messages.push({content:t,isUser:!1,created_at:this.getClock()}),this.scrollMessagesToBottom()}))},destroyed(){this.socketIoSocket.disconnect()},methods:{sendMessageToServer(){U.Z.post("/",{question:this.chatMessage})},getClock(){let t=new Date,e=t.getHours(),s=t.getMinutes();return`${e}:${s}`},sendMessage(){""===this.messageForm.content||this.waitingForAnswer||(this.messageForm.created_at=this.getClock(),this.messages.push(this.messageForm),this.socketIoSocket.emit("chat question",this.messageForm.content),this.messageForm={content:"",isUser:!0,created_at:null},this.waitingForAnswer=!0,this.scrollMessagesToBottom())},reportQuestion(t){this.reported_question_index=t,t>1&&!this.messages[t].isUser&&(this.qa_pair.created_at=this.getClock(),this.qa_pair.answer=this.messages[this.reported_question_index].content,this.messages[t-1].isUser&&(this.qa_pair.question=this.messages[this.reported_question_index-1].content)),t>1&&this.messages[t].isUser&&(this.qa_pair.created_at=this.getClock(),this.qa_pair.question=this.messages[this.reported_question_index].content,t+1<this.messages.length&&!this.messages[t+1].isUser&&(this.qa_pair.answer=this.messages[this.reported_question_index+1].content)),console.log(this.qa_pair.question),console.log(this.qa_pair.answer),this.socketIoSocket.emit("report question",this.qa_pair),this.qa_pair={question:"",answer:"",created_at:null}},scrollMessagesToBottom(){this.scrollElmToBottomOfElm(this.$refs["message-div"])},scrollElmToBottomOfElm(t){a["default"].nextTick((()=>a["default"].nextTick((()=>{t.scrollTop=t.scrollHeight}))))},messagesAtBottom(){return this.elmAtBottom(this.$refs["message-div"])},elmAtBottom(t){return t.scrollHeight-t.scrollTop===t.clientHeight},addPadding(t){let e=t.split(":"),s=e[0],a=e[1];return 1===s.length&&(s="0"+s),1===a.length&&(a="0"+a),s+":"+a},sanitizeExceptBoldItalicCode(t){return this.$sanitize(t)}},computed:{scrollbarTheme(){return this.$vuetify.theme.dark?"dark-scrollbar":"light-scrollbar"}}},P=H,j=(0,f.Z)(P,F,I,!1,null,null,null),R=j.exports,D={name:"Home",props:{appBarHeight:Number},components:{MetubotChat:R},data(){return{fillScreen:{position:"fixed",top:this.appBarHeight+"px",left:"50%",transform:"translate(-50%)",width:"100%",height:`calc(100% - ${this.appBarHeight}px)`,overflow:"auto"}}}},L=D,V=(0,f.Z)(L,y,b,!1,null,"4c13c650",null),Y=V.exports,N=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"app"},[e(s.Sidebar),e("router-view")],1)},W=[],G=s(9868),J=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e(G.Z,{attrs:{color:"bg2"}},[e("aside",{class:""+(s.is_expanded?"is-expanded":"")},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:s.logoURL,alt:"Vue"}})]),e("div",{staticClass:"menu-toggle-wrap"},[e("button",{staticClass:"menu-toggle",on:{click:s.ToggleMenu}},[e("span",{staticClass:"material-icons"},[t._v("keyboard_double_arrow_right")])])]),e("h3",[t._v("Menu")]),e("div",{staticClass:"menu"},[e("router-link",{staticClass:"button",attrs:{to:"/"}},[e("span",{staticClass:"material-icons"},[t._v("home")]),e("span",{staticClass:"text"},[t._v("Home")])]),e("router-link",{staticClass:"button",attrs:{to:"/yonetim/dashboard"}},[e("span",{staticClass:"material-icons"},[t._v("dashboard")]),e("span",{staticClass:"text"},[t._v("Dashboard")])]),e("router-link",{staticClass:"button",attrs:{to:"/yonetim/tables"}},[e("span",{staticClass:"material-icons"},[t._v("table_chart")]),e("span",{staticClass:"text"},[t._v("Tables")])]),e("router-link",{staticClass:"button",attrs:{to:"/yonetim/charts"}},[e("span",{staticClass:"material-icons"},[t._v("pie_chart")]),e("span",{staticClass:"text"},[t._v("Charts")])]),e("router-link",{staticClass:"button",attrs:{to:"/yonetim/addquestion"}},[e("span",{staticClass:"material-icons"},[t._v("note_add")]),e("span",{staticClass:"text"},[t._v("Add Question")])])],1),e("div",{staticClass:"flex"}),e("div",{staticClass:"menu"},[e("router-link",{staticClass:"button",attrs:{to:"/settings"}},[e("span",{staticClass:"material-icons"},[t._v("settings")]),e("span",{staticClass:"text"},[t._v("Settings")])])],1)])])},K=[],X=s.p+"img/metubot-logo-nameless.4fe9eedf.png",tt={__name:"Sidebar",setup(t){const e=(0,a.ref)("true"===localStorage.getItem("is_expanded")),s=()=>{e.value=!e.value,localStorage.setItem("is_expanded",e.value)};return{__sfc:!0,is_expanded:e,ToggleMenu:s,logoURL:X}}},et=tt,st=(0,f.Z)(et,J,K,!1,null,"5dfcb3bf",null),at=st.exports,it={__name:"AdminView",setup(t){return{__sfc:!0,Sidebar:at}}},nt=it,rt=(0,f.Z)(nt,N,W,!1,null,null,null),ot=rt.exports,lt=s(3867),ut=function(){var t=this,e=t._self._c;return e(x.Z,{staticClass:"card"},[e(w.EB,[t._v(" Sorulan Sorular "),e(u.Z),e($.Z,{attrs:{"append-icon":"mdi-magnify",label:"Arama"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(lt.Z,{attrs:{headers:t.headers,items:t.questions,search:t.search,"items-per-page":5,"items-per-page-text":"hl","no-results-text":"Sonuç bulunamadı.","no-data-text":"Soru bulunmamaktadır.","footer-props":{"items-per-page-text":"Sayfa başı gösterilecek soru sayısı:"}},scopedSlots:t._u([{key:"footer.page-text",fn:function(e){return[t._v(" "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" / "+t._s(e.itemsLength)+" ")]}}],null,!0)})],1)},ct=[],dt={name:"MetubotAskedQuestions",components:{AdminView:ot},data(){return{search:"",questions:[{question:"Bugün ne yiyeceğiz?",matchedQuestion:"Bugün pilav üstü odtü kavurma yiyeceğiz.",similarity:.8},{question:"Şifremi nasıl öğrenebilirim?",matchedQuestion:"Şifrenizi öğrenmek için şifre sıfırlama sayfasına gidiniz.",similarity:.6},{question:"Bugün ne yiyeceğiz?",matchedQuestion:"Bugün pilav üstü odtü kavurma yiyeceğiz.",similarity:.8},{question:"Şifremi nasıl öğrenebilirim?",matchedQuestion:"Şifrenizi öğrenmek için şifre sıfırlama sayfasına gidiniz.",similarity:.6},{question:"Bugün ne yiyeceğiz?",matchedQuestion:"Bugün pilav üstü odtü kavurma yiyeceğiz.",similarity:.8},{question:"Şifremi nasıl öğrenebilirim?",matchedQuestion:"Şifrenizi öğrenmek için şifre sıfırlama sayfasına gidiniz.",similarity:.6},{question:"Bugün ne yiyeceğiz?",matchedQuestion:"Bugün pilav üstü odtü kavurma yiyeceğiz.",similarity:.8},{question:"Şifremi nasıl öğrenebilirim?",matchedQuestion:"Şifrenizi öğrenmek için şifre sıfırlama sayfasına gidiniz.",similarity:.6}],headers:[{text:"Sorulan Soru",align:"start",sortable:!0,value:"question"},{text:"Eşleşen Soru",value:"matchedQuestion"},{text:"Benzerlik",value:"similarity"}]}}},mt=dt,ht=(0,f.Z)(mt,ut,ct,!1,null,"fbc6dec4",null),pt=ht.exports,ft=s(6904),gt=s(5617),vt=function(){var t=this,e=t._self._c;return e(ft.Z,{staticClass:"px-12 py-12",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e($.Z,{attrs:{label:"Category","prepend-icon":"category",rules:t.categoryRules,counter:30,required:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),e(gt.Z,{attrs:{label:"Question","prepend-icon":"quiz",rules:t.questionRules,counter:200,required:""},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}}),t._v(" "),e(gt.Z,{attrs:{label:"Answer","prepend-icon":"edit_note",rules:t.answerRules,counter:200,required:""},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}),e(u.Z),e(k.Z,{staticClass:"error mx-0 mt-3",attrs:{flat:"",disabled:!t.valid},on:{click:t.submit}},[t._v("Add Q/A")])],1)},_t=[],yt={data(){return{valid:!1,category:"",question:"",answer:"",categoryRules:[t=>!!t||"category is required",t=>t.length<=30||"category must be less than 30 characters"],questionRules:[t=>!!t||"question is required"],answerRules:[t=>!!t||"answer is required"],socketIoSocket:null}},mounted(){this.socketIoSocket=(0,E.io)()},methods:{submit(){if(console.log(this.category,this.question,this.answer),""!==this.category&&""!==this.answer&&""!==this.question){let t={category:this.category,question:this.question,answer:this.answer};console.log(t),this.socketIoSocket.emit("add question",t),this.valid=!1,this.category="",this.question="",this.answer=""}}}},bt=yt,kt=(0,f.Z)(bt,vt,_t,!1,null,null,null),xt=kt.exports;a["default"].use(_.ZP);const wt=[{path:"/",name:"metubot",component:Y,meta:{title:"METUBOT"}},{path:"/yonetim",name:"admin",children:[{path:"dashboard"},{path:"tables",component:pt},{path:"charts"},{path:"addquestion",component:xt}],component:ot,meta:{title:"METUBOT Yönetim"}}],Ct=new _.ZP({routes:wt});var qt=Ct,St=s(6017),Zt=s.n(St),Bt=(s(8556),s(7719)),Mt=s.n(Bt),Tt=s(5284),zt=s.n(Tt);a["default"].config.productionTip=!1,a["default"].use(Zt());let Ot={allowedTags:["a","b","i","code","strong"],allowedAttributes:{a:["href","name","target"]}};a["default"].use(zt(),Ot),a["default"].directive("linkified",Mt()),new a["default"]({router:qt,vuetify:new(Zt())({theme:{dark:!1,themes:{light:{background:"#f5f0f1",bg2:"#64748b"},dark:{bg2:"#2c2a2a"}}}}),render:t=>t(v)}).$mount("#app")},7309:function(t,e,s){"use strict";t.exports=s.p+"img/metubot-logo.828f8f1b.png"},2868:function(){},6349:function(){},9830:function(){},209:function(){},7414:function(){}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,n){if(!a){var r=1/0;for(c=0;c<t.length;c++){a=t[c][0],i=t[c][1],n=t[c][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,r=a[0],o=a[1],l=a[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var c=l(s)}for(e&&e(a);u<r.length;u++)n=r[u],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(c)},a=self["webpackChunkmetubot"]=self["webpackChunkmetubot"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(7274)}));a=s.O(a)})();
//# sourceMappingURL=app.b81ebdbe.js.map